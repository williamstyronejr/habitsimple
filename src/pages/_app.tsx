import Head from 'next/head';
import type { AppProps } from 'next/app';
import '@/styles/globals.css';
import Link from 'next/link';
import { useState } from 'react';
import useOutsideClick from '@/hooks/useOutsideClick';
import SkipNavigation from '@/components/ui/SkipNavigation';

export default function App({ Component, pageProps }: AppProps) {
  const [menuTogggle, setMenuToggle] = useState(false);
  const ref = useOutsideClick({
    closeEvent: () => {
      setMenuToggle(false);
    },
    ignoreButton: true,
    active: menuTogggle,
  });

  return (
    <div className="flex flex-col flex-nowrap w-full h-full">
      <Head>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
      </Head>
      <SkipNavigation />

      <header className="">
        {/* <h1 className="text-center font-medium text-lg my-4">Habit Tracker </h1> */}

        <nav ref={ref}>
          <button
            type="button"
            className="block md:hidden"
            onClick={() => {
              setMenuToggle((old) => !old);
            }}
          >
            <span className="block h-1 w-8 my-1 bg-black" />
            <span className="block h-1 w-8 my-1 bg-black" />
            <span className="block h-1 w-8 my-1 bg-black" />
          </button>

          <ul>
            <li>
              <Link className="" href="/">
                Tracker
              </Link>
            </li>

            <li>
              <Link className="" href="/">
                Tracker
              </Link>
            </li>
          </ul>
        </nav>
      </header>

      <main id="content" className="flex-grow">
        <Component {...pageProps} />
      </main>
    </div>
  );
}
